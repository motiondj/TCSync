# 언리얼 엔진 타임코드 동기화 플러그인 분석

## 플러그인 개요

이 플러그인은 언리얼 엔진에서 여러 장치/인스턴스 간의 타임코드를 동기화하는 기능을 제공합니다. 주요 특징으로는:

1. 마스터/슬레이브 구조로 여러 장치 간 시간 동기화
2. 네트워크 기반 타임코드 동기화 (UDP 통신 사용)
3. SMPTE 타임코드 형식 지원 (드롭 프레임 포함)
4. PLL(Phase-Locked Loop) 알고리즘을 통한 정밀한 시간 동기화
5. 에디터 UI 제공

## 주요 구성 요소

1. `TimecodeComponent`: 액터에 부착하여 타임코드 기능을 제공하는 컴포넌트
2. `TimecodeNetworkManager`: 네트워크 통신을 관리하는 클래스
3. `PLLSynchronizer`: PLL 알고리즘을 통한 시간 동기화 모듈
4. `SMPTETimecodeConverter`: SMPTE 타임코드 변환 모듈
5. UI 관련 클래스들(에디터 플러그인)

## 문제점 및 개선 사항

### 1. 네트워크 통신 관련

1. **포트 관리 개선 필요**: 현재 코드에서는 송수신 포트가 혼동될 수 있습니다. `ReceivePortNumber`와 `SendPortNumber` 변수명은 명확하지만, 실제 사용 시 혼란이 있을 수 있습니다.

2. **멀티캐스트 그룹 관리 개선**: 다양한 네트워크 환경에서 멀티캐스트가 동작하지 않을 수 있으므로, 대체 메커니즘 추가가 필요합니다.

3. **연결 안정성 강화**: 네트워크 재연결 매커니즘이 부족합니다. 연결 실패 시 자동 재연결을 시도하는 로직이 필요합니다.

### 2. 타임코드 동기화 알고리즘

1. **PLL 설정 최적화**: 현재 PLL 알고리즘의 기본 `Bandwidth`와 `DampingFactor`가 모든 상황에 최적화되지 않을 수 있습니다. 자동 튜닝 기능 추가가 필요합니다.

2. **드롭 프레임 계산 정밀도 향상**: 드롭 프레임 타임코드 처리 시 정밀도 이슈가 있을 수 있습니다. 특히 장시간 동작 시 누적 오차를 줄이는 방법이 필요합니다.

### 3. 메모리 관리 및 성능

1. **메모리 누수 가능성**: `UTimecodeSyncEditorUI`의 소멸자에서 제대로 정리되지 않는 부분이 있습니다. 특히 델리게이트 처리 부분을 개선해야 합니다.

2. **캐싱 기능 추가**: 타임코드 변환과 같은 반복 작업에 캐싱 기능을 확장하면 성능이 향상될 수 있습니다.

### 4. 에러 처리 및 디버깅

1. **예외 처리 부족**: 네트워크 실패, 포트 바인딩 실패 등에 대한 예외 처리가 불충분합니다. 더 강력한 예외 처리와 복구 메커니즘이 필요합니다.

2. **로그 시스템 개선**: 현재 로그는 주로 `UE_LOG`를 사용하는데, 로그 레벨 관리와 더 구조화된 로깅 시스템이 필요합니다.

### 5. 사용자 인터페이스 및 경험

1. **시각적 피드백 부족**: 에디터 UI에서 동기화 상태를 더 시각적으로 표현할 필요가 있습니다(예: 동기화 품질 표시기).

2. **설정 검증 기능 필요**: 잘못된 설정값(예: 유효하지 않은 IP 주소) 입력에 대한 검증과 피드백이 부족합니다.

### 6. 확장성 및 유지보수

1. **모듈 간 의존성 개선**: 일부 클래스들이 너무 밀접하게 결합되어 있어 독립적인 테스트와 확장이 어렵습니다.

2. **테스트 코드 확장**: 자동화된 테스트가 일부 있지만, 네트워크 통신이나 다양한 경계 케이스에 대한 테스트가 부족합니다.

3. **코드 중복 제거**: SMPTE 타임코드 변환 등에서 중복 코드가 보입니다. 이를 더 효율적으로 리팩토링할 수 있습니다.

### 7. 호환성 및 확장 기능

1. **언리얼 엔진 버전 호환성**: 최신 언리얼 엔진 버전과의 호환성 테스트가 필요합니다.

2. **외부 타임코드 소스 지원**: 현재는 내부 시스템 시간 기반 동기화만 지원하는데, LTC(Linear Timecode) 같은 외부 타임코드 소스 지원 추가가 필요합니다.

3. **다양한 프레임 레이트 지원 개선**: 추가 프레임 레이트에 대한 지원이 필요합니다.
